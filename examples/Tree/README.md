# Tree Example

Example structure:
```
Tree
├── SubTree
│   └── LeafB
├── LeafA
└── LeafC
```

This file will be converted by `go-testmark` into golang [testify suite](https://github.com/stretchr/testify#suite-package).

The resulting file will include only setup and cleanup logic and also all dependent examples as tests. See more in section `Results`.

## Includes

- [Sub Tree](./SubTree)
- [Leaf A](./LeafA)
- [Leaf C](./LeafC)

## Run

The following command just creates a resource folder.

```bash
MY_TEST_DIR=resources 
echo "mkdir ${MY_TEST_DIR}"
```

```bash
cat << EOF
We also need to make sure that commands which use "<<EOF" are working without issues.
EOF
```

## Cleanup

The following command just deletes the resource folder.

```bash
rm -rf ${MY_TEST_DIR}
```

# Results

The generated result of this example is:

```go
// Code generated by gotestmd DO NOT EDIT.
package tree

import (
	"github.com/networkservicemesh/gotestmd/pkg/suites/shell"
	"github.com/networkservicemesh/gotestmd/test-examples/tree/subtree"
	"github.com/stretchr/testify/suite"
)

type Suite struct {
	shell.Suite
	subtreeSuite subtree.Suite
}

func (s *Suite) SetupSuite() {
	parents := []interface{}{&s.Suite}
	for _, p := range parents {
		if v, ok := p.(suite.TestingSuite); ok {
			v.SetT(s.T())
		}
		if v, ok := p.(suite.SetupAllSuite); ok {
			v.SetupSuite()
		}
	}
	r := s.Runner("examples/Tree")
	s.T().Cleanup(func() {
		r.Run(`rm -rf ${MY_TEST_DIR}`)
	})
	r.Run(`MY_TEST_DIR=resources ` + "\n" + `echo "mkdir ${MY_TEST_DIR}"`)
	s.RunIncludedSuites()
}
func (s *Suite) RunIncludedSuites() {
	s.Run("SubTree", func() {
		suite.Run(s.T(), &s.subtreeSuite)
	})
}
func (s *Suite) TestLeafA() {
	r := s.Runner("examples/Tree/LeafA")
	r.Run(`echo "I'm leaf A"`)
}
func (s *Suite) TestLeafC() {
	r := s.Runner("examples/Tree/LeafC")
	r.Run(`echo "I'm leaf C"`)
}
```